cmake_minimum_required(VERSION 3.2)

project(NeoVis)

set(EXECUTABLE_OUTPUT_PATH ${CMAKE_BINARY_DIR}/bin CACHE INTERNAL "" FORCE)
set(LIBRARY_OUTPUT_PATH ${CMAKE_BINARY_DIR}/lib CACHE INTERNAL "" FORCE)

list(APPEND CMAKE_MODULE_PATH "${CMAKE_CURRENT_LIST_DIR}/cmake")

set(CMAKE_C_STANDARD 99)
if (CMAKE_CXX_COMPILER_ID STREQUAL "GNU")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -std=c99")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -O2")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wconversion")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wall")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wextra")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -pedantic")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wcast-align")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Werror=implicit-function-declaration")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Werror=return-type")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Werror=vla")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wstrict-prototypes")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wmissing-prototypes")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wno-char-subscripts")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wno-unknown-pragmas")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wpointer-arith")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wunused-parameter")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wwrite-strings")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wlogical-op")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wundef")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Winit-self")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wmissing-include-dirs")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wno-div-by-zero")
    set(CMAKE_C_FLAGS "${CMAKE_C_FLAGS} -Wtype-limits")
endif()

set(CMAKE_INSTALL_PREFIX ${PROJECT_SOURCE_DIR})

set(IO_HEADERS_DIR ${PROJECT_SOURCE_DIR}/src/io)
set(JPGIO_HEADERS_DIR ${PROJECT_SOURCE_DIR}/src/jpgio)
set(IMAGE_HEADERS_DIR ${PROJECT_SOURCE_DIR}/src/image)
set(COMMON_HEADERS_DIR ${PROJECT_SOURCE_DIR}/src/common)
set(NODES_HEADERS_DIR ${PROJECT_SOURCE_DIR}/src/nodes)

include_directories(${IO_HEADERS_DIR})
include_directories(${JPGIO_HEADERS_DIR})
include_directories(${IMAGE_HEADERS_DIR})
include_directories(${COMMON_HEADERS_DIR})
include_directories(${NODES_HEADERS_DIR})

add_subdirectory(src)